<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EnerLuma — Sign Up</title>
  <link rel="icon" href="/enerluma-logo.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="auth.css">
</head>

<body class="auth-page">
  <div class="auth-container">
    <div class="auth-left">
      <!-- Ambient background particles -->
      <div class="ambient-particle particle-1"></div>
      <div class="ambient-particle particle-2"></div>
      <div class="ambient-particle particle-3"></div>
      <div class="ambient-particle particle-4"></div>

      <!-- Subtle Floating IoT Icons -->
      <svg class="float-icon fi-home" viewBox="0 0 40 40" fill="none" aria-hidden="true">
        <path d="M20 6L4 18v16h12V24h8v10h12V18L20 6z" stroke="rgba(15,106,102,0.28)" stroke-width="1.2"
          fill="rgba(77,212,220,0.08)" />
        <rect x="16" y="24" width="8" height="10" stroke="rgba(15,106,102,0.20)" stroke-width="0.8" fill="none" />
      </svg>
      <svg class="float-icon fi-ripple" viewBox="0 0 40 40" fill="none" aria-hidden="true">
        <circle cx="20" cy="28" r="4" stroke="rgba(77,212,220,0.30)" stroke-width="1" fill="rgba(77,212,220,0.10)" />
        <ellipse cx="20" cy="28" rx="10" ry="5" stroke="rgba(77,212,220,0.22)" stroke-width="0.8" fill="none" />
        <ellipse cx="20" cy="28" rx="16" ry="8" stroke="rgba(77,212,220,0.14)" stroke-width="0.6" fill="none" />
      </svg>
      <svg class="float-icon fi-wave" viewBox="0 0 44 28" fill="none" aria-hidden="true">
        <path d="M2 20Q8 8 14 14T26 10T38 16T42 12" stroke="rgba(15,106,102,0.25)" stroke-width="1.2" fill="none"
          stroke-linecap="round" />
        <path d="M2 24Q10 14 18 18T30 14T42 18" stroke="rgba(77,212,220,0.18)" stroke-width="0.9" fill="none"
          stroke-linecap="round" />
      </svg>
      <svg class="float-icon fi-signal" viewBox="0 0 32 32" fill="none" aria-hidden="true">
        <circle cx="16" cy="22" r="2.5" fill="rgba(15,106,102,0.30)" />
        <path d="M10 18a8 8 0 0112 0" stroke="rgba(15,106,102,0.22)" stroke-width="1" fill="none"
          stroke-linecap="round" />
        <path d="M6 14a14 14 0 0120 0" stroke="rgba(15,106,102,0.15)" stroke-width="0.8" fill="none"
          stroke-linecap="round" />
      </svg>
      <svg class="float-icon fi-eco" viewBox="0 0 32 32" fill="none" aria-hidden="true">
        <path d="M8 26C8 14 24 8 24 8C24 8 20 26 8 26Z" fill="rgba(6,192,191,0.12)" stroke="rgba(15,106,102,0.25)"
          stroke-width="0.9" />
        <path d="M8 26C14 20 20 14 24 8" stroke="rgba(15,106,102,0.18)" stroke-width="0.7" fill="none" />
      </svg>
      <svg class="float-icon fi-node" viewBox="0 0 28 28" fill="none" aria-hidden="true">
        <circle cx="14" cy="14" r="3" fill="rgba(77,212,220,0.15)" stroke="rgba(77,212,220,0.30)" stroke-width="0.8" />
        <line x1="14" y1="11" x2="14" y2="3" stroke="rgba(77,212,220,0.20)" stroke-width="0.6" />
        <line x1="17" y1="14" x2="25" y2="14" stroke="rgba(77,212,220,0.20)" stroke-width="0.6" />
        <line x1="11" y1="17" x2="5" y2="23" stroke="rgba(77,212,220,0.20)" stroke-width="0.6" />
        <circle cx="14" cy="3" r="1.5" fill="rgba(77,212,220,0.18)" />
        <circle cx="25" cy="14" r="1.5" fill="rgba(77,212,220,0.18)" />
        <circle cx="5" cy="23" r="1.5" fill="rgba(77,212,220,0.18)" />
      </svg>

      <!-- Dashboard Preview -->
      <div class="dashboard-preview">
        <div class="preview-header">
          <div class="preview-dot green"></div>
          <div class="preview-dot yellow"></div>
          <div class="preview-dot red"></div>
          <span class="preview-title">EnerLuma Dashboard</span>
        </div>
        <div class="preview-metrics">
          <div class="metric-card">
            <div class="metric-icon energy-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
              </svg>
            </div>
            <div class="metric-data">
              <span class="metric-value">2.4<small>kWh</small></span>
              <span class="metric-label">Energy Today</span>
            </div>
            <span class="metric-trend positive">↓ 12%</span>
          </div>
          <div class="metric-card">
            <div class="metric-icon water-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M12 2C12 2 5 12 5 16a7 7 0 0014 0c0-4-7-14-7-14z" />
              </svg>
            </div>
            <div class="metric-data">
              <span class="metric-value">148<small>L</small></span>
              <span class="metric-label">Water Usage</span>
            </div>
            <span class="metric-trend positive">↓ 8%</span>
          </div>
          <div class="metric-card">
            <div class="metric-icon device-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M5 12.55a11 11 0 0114.08 0" />
                <path d="M1.42 9a16 16 0 0121.16 0" />
                <path d="M8.53 16.11a6 6 0 016.95 0" />
                <circle cx="12" cy="20" r="1" />
              </svg>
            </div>
            <div class="metric-data">
              <span class="metric-value">7<small>/9</small></span>
              <span class="metric-label">Devices Online</span>
            </div>
          </div>
        </div>
        <div class="preview-chart">
          <div class="chart-header">
            <span class="chart-title">Weekly Energy Trend</span>
            <span class="chart-badge">Live</span>
          </div>
          <svg class="sparkline" viewBox="0 0 280 60" preserveAspectRatio="none">
            <defs>
              <linearGradient id="chartGrad2" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="rgba(77,212,220,0.25)" />
                <stop offset="100%" stop-color="rgba(77,212,220,0)" />
              </linearGradient>
            </defs>
            <path d="M0 45 Q20 40 40 38 T80 30 T120 25 T160 20 T200 28 T240 18 T280 12" fill="none"
              stroke="var(--accent-1)" stroke-width="2" />
            <path d="M0 45 Q20 40 40 38 T80 30 T120 25 T160 20 T200 28 T240 18 T280 12 V60 H0 Z"
              fill="url(#chartGrad2)" />
            <circle cx="280" cy="12" r="3" fill="var(--accent-1)">
              <animate attributeName="r" values="3;5;3" dur="2s" repeatCount="indefinite" />
              <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite" />
            </circle>
          </svg>
        </div>
      </div>

      <div class="auth-branding">
        <img src="/enerluma-logo.png" alt="EnerLuma" class="auth-logo" />
        <h1>EnerLuma</h1>
        <p>Smart Energy & Water Monitoring</p>
        <span class="branding-tagline">AI-Powered • Real-time • Sustainable</span>
      </div>
    </div>

    <div class="auth-right">
      <div class="auth-card">
        <div class="auth-tabs" style="--tab-index: 1">
          <a class="auth-tab" href="/login-signup/auth.html">Login</a>
          <button class="auth-tab active">Sign Up</button>
        </div>

        <form id="signup-form" class="auth-form active" novalidate>
          <h2>Create Account</h2>
          <p class="auth-subtitle">Join the smart energy revolution</p>

          <div class="form-group has-icon name">
            <label for="signup-name">Full Name</label>
            <input type="text" id="signup-name" placeholder="John Doe" required />
            <div class="error-msg" id="signup-name-error" aria-live="polite"></div>
          </div>

          <div class="form-group has-icon email">
            <label for="signup-email">Email Address</label>
            <input type="email" id="signup-email" placeholder="you@example.com" required />
            <div class="error-msg" id="signup-email-error" aria-live="polite"></div>
          </div>

          <div class="form-group has-icon password password-field">
            <label for="signup-password">Password</label>
            <input type="password" id="signup-password" placeholder="••••••••" required />
            <button type="button" class="password-toggle" aria-label="Show password"
              data-target="signup-password">Show</button>
            <div class="error-msg" id="signup-password-error" aria-live="polite"></div>
          </div>

          <div class="form-group has-icon password password-field">
            <label for="signup-confirm">Confirm Password</label>
            <input type="password" id="signup-confirm" placeholder="••••••••" required />
            <button type="button" class="password-toggle" aria-label="Show password"
              data-target="signup-confirm">Show</button>
            + <div class="error-msg" id="signup-confirm-error" aria-live="polite"></div>
          </div>

          <label class="terms-checkbox">
            <input type="checkbox" id="terms" required />
            I agree to the <a href="#">Terms & Privacy Policy</a>
          </label>

          <button type="submit" class="auth-button" disabled>
            <span class="btn-spinner"></span>
            <span class="btn-text">Create Account</span>
          </button>

          <div class="secure-indicator">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" aria-hidden="true">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
              <path d="M7 11V7a5 5 0 0 1 10 0v4" />
            </svg>
            <span>Secured with 256-bit encryption</span>
          </div>

          <p class="auth-footer">Already have an account? <a href="/login-signup/auth.html">Login</a></p>
        </form>
      </div>


    </div>
  </div>

  <script>
    /* ============ SVG icon markup ============ */
    const eyeOpenSVG = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>`;
    const eyeClosedSVG = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94"/><path d="M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19"/><line x1="1" y1="1" x2="23" y2="23"/></svg>`;

    /* ============ Password toggle (eye icon) ============ */
    document.querySelectorAll('.password-toggle').forEach(btn => {
      btn.innerHTML = eyeOpenSVG;
      btn.addEventListener('click', () => {
        const input = document.getElementById(btn.dataset.target);
        if (!input) return;
        const isPassword = input.type === 'password';
        input.type = isPassword ? 'text' : 'password';
        btn.innerHTML = isPassword ? eyeClosedSVG : eyeOpenSVG;
        btn.setAttribute('aria-label', isPassword ? 'Hide password' : 'Show password');
      });
    });

    /* ============ Validation helpers ============ */
    function isValidEmail(email) { return /^\S+@\S+\.\S+$/.test(email); }

    function showError(inputEl, message) {
      const el = document.getElementById(inputEl.id + '-error');
      if (el) { el.textContent = message; el.classList.add('visible'); }
      inputEl.classList.add('input-error');
    }

    function clearError(inputEl) {
      const el = document.getElementById(inputEl.id + '-error');
      if (el) { el.classList.remove('visible'); setTimeout(() => { el.textContent = ''; }, 250); }
      inputEl.classList.remove('input-error');
    }

    /* ============ Input references ============ */
    const nameInput = document.getElementById('signup-name');
    const emailInput = document.getElementById('signup-email');
    const pwdInput = document.getElementById('signup-password');
    const confirmInput = document.getElementById('signup-confirm');
    const termsInput = document.getElementById('terms');
    const signupBtn = document.querySelector('#signup-form .auth-button');
    const signupForm = document.getElementById('signup-form');

    /* ============ Live validation → enable/disable button ============ */
    function checkSignupValidity() {
      const nameOk = nameInput.value && nameInput.value.trim().length >= 2;
      const emailOk = emailInput.value && isValidEmail(emailInput.value);
      const pwdOk = pwdInput.value && pwdInput.value.length >= 8;
      const confirmOk = confirmInput.value && confirmInput.value === pwdInput.value;
      const termsOk = termsInput.checked;
      signupBtn.disabled = !(nameOk && emailOk && pwdOk && confirmOk && termsOk);
    }

    [nameInput, emailInput, pwdInput, confirmInput].forEach(input => {
      input.addEventListener('input', () => { clearError(input); checkSignupValidity(); });
    });
    termsInput.addEventListener('change', checkSignupValidity);

    /* ============ Signup form submit with spinner ============ */
    signupForm.addEventListener('submit', (e) => {
      e.preventDefault();
      let ok = true;
      [nameInput, emailInput, pwdInput, confirmInput].forEach(clearError);

      if (!nameInput.value || nameInput.value.trim().length < 2) { showError(nameInput, 'Please enter your full name.'); ok = false; }
      if (!emailInput.value || !isValidEmail(emailInput.value)) { showError(emailInput, 'Please enter a valid email address.'); ok = false; }
      if (!pwdInput.value || pwdInput.value.length < 8) { showError(pwdInput, 'Password must be at least 8 characters.'); ok = false; }
      if (pwdInput.value !== confirmInput.value) { showError(confirmInput, 'Passwords do not match.'); ok = false; }
      if (!termsInput.checked) { alert('Please accept the Terms & Privacy Policy to continue.'); ok = false; }
      if (!ok) { checkSignupValidity(); return; }

      signupBtn.classList.add('loading');
      signupBtn.disabled = true;

      setTimeout(() => {
        location.replace('/login-signup/auth.html');
      }, 1500);
    });

    /* ============ Enter key submits form ============ */
    signupForm.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !signupBtn.disabled) {
        e.preventDefault();
        signupForm.requestSubmit();
      }
    });

    /* ============ Navigation intercept ============ */
    document.addEventListener('click', (e) => {
      const a = e.target.closest && e.target.closest('a');
      if (!a) return;
      const href = a.getAttribute && a.getAttribute('href');
      if (!href) return;
      if (href.startsWith('/login-signup/')) {
        if (location.pathname === href) { e.preventDefault(); return; }
        e.preventDefault();
        location.replace(href);
      }
    });
  </script>
</body>

</html>